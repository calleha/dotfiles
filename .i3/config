# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

# Variables

	# Mod key
	set $mod Mod4
	# Enables or disables system tray (primary/none/[monitor])
	set $tray primary
	# Background
	set $background ~/Pictures/grandcanyon/Cape_Royal_Sunset.jpg

	# Applications

	# Terminal
	set $terminal urxvt
	set $terminalfloating "urxvt -name floating"
	# File manager
	set $filesgui nautilus
	set $filescli "urxvt -e ranger"
	# Application launcher
	set $applauncher "dmenu_run -sb '#33333f' -sf '#3355ff'"
	# Editor
	set $emacs "emacsclient -c"
	set $vim "urxvt -e vim"

	# Workspaces
	set $ws1 "  1  "
	set $ws2 "  2  "
	set $ws3 "  3  "
	set $ws4 "  4  "
	set $ws5 "  5  "
	set $ws6 "  6  "
	set $ws7 "  7  "
	set $ws8 "  8  "
	set $ws9 "  9  "
	set $ws10 "  10  "

# Window settings

	# Disable titlebars and set border size
	for_window [class="^.*"] border pixel 4
	# Enable floating for named session of urxvt
	for_window [class="URxvt" instance="floating"] floating enable

	# Colors       	        border  backgr. text    indicator child_border
	#client.focused          #4c7899 #285577 #ffffff #5c73e6   #5c73e6
	#client.focused_inactive #333333 #5f676a #ffffff #e68a5c   #e68a5c
	#client.unfocused        #333333 #222222 #888888 #e68a5c   #e68a5c
	client.focused          #4c7899 #285577 #ffffff #4c7899   #285577
	client.focused_inactive #333333 #5f676a #ffffff #000000cc #000000cc
	client.unfocused        #333333 #222222 #888888 #000000cc #000000cc

	# Gaps
	gaps inner 12
	gaps outer 0

	# Font for window titles and bar unless a different font is used in the bar {} block
	font pango:Montserrat Semi-Bold 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# kill focused window
bindsym $mod+Shift+q kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+b focus left
bindsym $mod+n focus down
bindsym $mod+p focus up
bindsym $mod+f focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+b move left
bindsym $mod+Shift+n move down
bindsym $mod+Shift+p move up
bindsym $mod+Shift+f move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal/vertical orientation
bindsym $mod+apostrophe split toggle
bindsym $mod+backslash split toggle

# enter fullscreen mode for the focused container
bindsym $mod+F11 fullscreen toggle

# change container layout (default, stacked, tabbed, toggle split)
  # toggle between hsplit and vsplit
  bindsym $mod+s layout toggle split
  # toggle between tabbed and tiled
  bindsym $mod+w layout toggle tabbed split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent/child container
#bindsym $mod+a focus parent
#bindsym $mod+d focus child

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# Scratchpad

	# Make the currently focused window a scratchpad
	bindsym $mod+Shift+minus move scratchpad
	bindsym $mod+Shift+plus move scratchpad
	# Show the first scratchpad window
	bindsym $mod+minus scratchpad show
	bindsym $mod+plus scratchpad show

# Restarting and exiting

  	# reload the configuration file
	bindsym $mod+Shift+c reload
	# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
	bindsym $mod+Shift+r restart
	# exit i3 (logs you out of your X session)
	bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Do you want to exit i3?' -b 'Yes, exit i3' 'i3-msg exit'"

# Modes

  # resize window (you can also use the mouse for that)
	mode "Resize" {
	     # These bindings trigger as soon as you enter the resize mode
	     bindsym h resize shrink width 4 px or 4 ppt
	     bindsym j resize grow height 4 px or 4 ppt
	     bindsym k resize shrink height 4 px or 4 ppt
	     bindsym l resize grow width 4 px or 4 ppt

	     # same bindings, but for the arrow keys
	     bindsym Left resize shrink width 4 px or 4 ppt
	     bindsym Down resize grow height 4 px or 4 ppt
	     bindsym Up resize shrink height 4 px or 4 ppt
	     bindsym Right resize grow width 4 px or 4 ppt

	     # emacs bindings
	     bindsym b resize shrink width 4 px or 4 ppt
	     bindsym n resize grow height 4 px or 4 ppt
	     bindsym p resize shrink height 4 px or 4 ppt
	     bindsym f resize grow width 4 px or 4 ppt

	     # back to normal: Enter or Escape
	     bindsym Return mode "default"
	     bindsym Escape mode "default"
	     bindsym Ctrl+g mode "default"
	}

	bindsym $mod+r mode "Resize"

  # resize gaps mode
	mode "Resize gaps" {
	     bindsym j gaps outer current minus 4
	     bindsym k gaps outer current plus 4
	     bindsym p gaps outer current minus 4
	     bindsym n gaps outer current plus 4
	     bindsym Down gaps outer current minus 4
	     bindsym Up gaps outer current plus 4
	     bindsym Shift+j gaps inner current minus 4
	     bindsym Shift+k gaps inner current plus 4
	     bindsym Shift+p gaps inner current minus 4
	     bindsym Shift+n gaps inner current plus 4
	     bindsym Shift+Down gaps inner current minus 4
	     bindsym Shift+Up gaps inner current plus 4
	     bindsym 0 gaps inner current set 0; gaps outer current set 0; mode "default"
	     bindsym $mod+g gaps inner current set 12; gaps outer current set 0; mode "default"

	     bindsym Return mode "default"
	     bindsym Escape mode "default"
	     bindsym Ctrl+g mode "default"
	}

	bindsym $mod+g mode "Resize gaps"

  # resize gaps mode (all workspaces)
	mode "Resize gaps (all workspaces)" {
	     bindsym j gaps outer all minus 4
	     bindsym k gaps outer all plus 4
	     bindsym p gaps outer all minus 4
	     bindsym n gaps outer all plus 4
	     bindsym Down gaps outer all minus 4
	     bindsym Up gaps outer all plus 4
	     bindsym Shift+j gaps inner all minus 4
	     bindsym Shift+k gaps inner all plus 4
	     bindsym Shift+p gaps inner all minus 4
	     bindsym Shift+n gaps inner all plus 4
	     bindsym Shift+Down gaps inner all minus 4
	     bindsym Shift+Up gaps inner all plus 4
	     bindsym 0 gaps inner all set 0; gaps outer all set 0; mode "default"
	     bindsym $mod+g gaps inner all set 12; gaps outer all set 0; mode "default"

	     bindsym Return mode "default"
	     bindsym Escape mode "default"
	     bindsym Ctrl+g mode "default"
	}

	bindsym $mod+Shift+g mode "Resize gaps (all workspaces)"


# Resize without resize mode
	bindsym $mod+y resize shrink width 4 px or 4 ppt
        bindsym $mod+u resize grow height 4 px or 4 ppt
        bindsym $mod+i resize shrink height 4 px or 4 ppt
        bindsym $mod+o resize grow width 4 px or 4 ppt
	
	bindsym $mod+Left resize shrink width 4 px or 4 ppt
        bindsym $mod+Down resize grow height 4 px or 4 ppt
        bindsym $mod+Up resize shrink height 4 px or 4 ppt
        bindsym $mod+Right resize grow width 4 px or 4 ppt

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        status_command	i3blocks
	i3bar_command	i3bar -t
	position	top
	tray_output	$tray
	colors {

	       background	  #00000000
	       separator	  #de8642ff
	       #		  border    backgr.   text
	       focused_workspace  #00000000 #00000000 #de8642ff
	       active_workspace	  #00000000 #00000000 #3333ccff
	       inactive_workspace #00000000 #00000000 #33333fff
	       urgent_workspace	  #00000000 #00000000 #cc0000ff

	       #background	   #00000000
	       #separator	   #3355ffff
	       #		   border    backgr.   text
	       #focused_workspace  #00000000 #00000000 #3355ffff
	       #active_workspace   #00000000 #00000000 #3333ccff
	       #inactive_workspace #00000000 #00000000 #33333fff
	       #urgent_workspace   #00000000 #00000000 #cc0000ff

	       #background	   #000000cc
	       #separator	   #0055ffff
	       #		   border    backgr.   text
	       #focused_workspace  #0055ffcc #0055ffcc #ffffffff
	       #active_workspace   #0033cccc #0033cccc #ffffffff
	       #inactive_workspace #000000cc #000000cc #ffffffff
	       #urgent_workspace   #000000cc #000000cc #cc0000ff
	}
}

# Controls

	# Pulse Audio controls (sink @DEFAULT_SINK@ is specific; use pacmd list-sinks | grep -e 'name:' -e 'index' to find the correct index/name)
	bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
	bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
	bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle

	# Media player controls
	bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause

	# Brightness controls
	bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc 10
	bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10

	# Touchpad controls
	bindsym XF86TouchpadToggle exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 0
	bindsym Shift+XF86TouchpadToggle exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 1


# Application shortcuts

# Basic ones
     bindsym $mod+Return exec --no-startup-id $terminal
     bindsym $mod+Shift+Return exec --no-startup-id $terminalfloating
     bindsym $mod+d exec --no-startup-id $applauncher
     bindsym $mod+e exec --no-startup-id $emacs

# Start application mode
mode "s-x" {
     bindsym $mod+Return exec --no-startup-id $terminal; mode "default"
     bindsym $mod+Shift+Return exec --no-startup-id $terminalfloating; mode "default"
     bindsym $mod+d exec --no-startup-id $applauncher; mode "default"
     bindsym $mod+n exec $filesgui; mode "default"
     bindsym $mod+r exec --no-startup-id $filescli; mode "default"

     bindsym $mod+e exec --no-startup-id $emacs; mode "default"
     bindsym $mod+v exec --no-startup-id $vim; mode "default"

     bindsym $mod+c exec --no-startup-id google-chrome; mode "default"
     bindsym $mod+Control+c exec --no-startup-id google-chrome; gaps inner current set 0; gaps outer current set 0; mode "default"

     bindsym $mod+f exec firefox; mode "default"
     bindsym $mod+Shift+f exec firefox -private-window; mode "default"
     bindsym $mod+Control+f exec firefox; gaps inner current set 0; gaps outer current set 0; mode "default"

     bindsym $mod+m exec --no-startup-id Discord; mode "default"
     bindsym $mod+Shift+m exec --no-startup-id killall Discord; mode "default"
     bindsym $mod+s exec --no-startup-id spotify; mode "default"
     bindsym $mod+p exec pavucontrol; mode "default"
     bindsym $mod+i exec ibus-setup; mode "default"
     bindsym $mod+a exec arandr; mode "default"
     bindsym $mod+t exec transmission-gtk; mode "default"

     #Mount phone
     bindsym $mod+z exec --no-startup-id "simple-mtpfs --device 1 ~/Phone/"
     #bindsym $mod+Shift+m exec --no-startup-id "umount ~/Phone/"

     bindsym Return mode "default"
     bindsym Escape mode "default"
     bindsym Ctrl+g mode "default"
     }

     bindsym $mod+x mode "s-x"
     bindsym $mod+Shift+x mode "s-x"; split toggle

# Startup applications

	# Screen resolution (set accordingly)
	#exec_always --no-startup-id xrandr --output DP-3 --mode 1920x1080 --rate 144
	# Background
	exec_always --no-startup-id feh --bg-fill $background
	# Compton
	exec --no-startup-id compton --config ~/.config/compton.conf -f
	# TouchPad settings
	exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "libinput Natural Scrolling Enabled" 1
	# Network Manager Applet
	exec --no-startup-id nm-applet
	# Keyboard module
	exec --no-startup-id "ibus-daemon --xim"
	# Automount with udiskie
	exec --no-startup-id udiskie
	# Swap Left Control and Caps Lock (Options: ctrl:swapcaps / ctrl:nocaps)
	exec --no-startup-id setxkbmap -layout se -option ctrl:nocaps
	# Emacs
	exec --no-startup-id emacs --daemon
